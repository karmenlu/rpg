{"version":3,"sources":["components/Sprite.jsx","components/Actor.jsx","hooks/use-walk.js","components/Player.jsx","hooks/use-key-press.js","App.jsx","index.js"],"names":["Sprite","image","data","position","y","x","h","w","style","top","left","height","width","backgroundImage","backgroundRepeat","backgroundPosition","Actor","sprite","step","dir","useWalk","maxSteps","useState","setPosition","setDir","setStep","directions","down","right","up","modifier","stayOnGrid","coordinate","gridMax","walk","prev","move","Player","fn","skin","e","keyPress","key","startsWith","replace","toLowerCase","preventDefault","useEffect","window","addEventListener","removeEventListener","process","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kJACe,SAASA,EAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,SAGjCC,EAAeF,EAAfE,EAAGC,EAAYH,EAAZG,EAAGC,EAASJ,EAATI,EAAGC,EAAML,EAANK,EACjB,OAAQ,qBACJC,MAAO,CACHL,SAAU,WACVM,IAAKN,EAASC,EACdM,KAAMP,EAASE,EACfM,OAAO,GAAD,OAAKL,EAAL,MACNM,MAAM,GAAD,OAAKL,EAAL,MACLM,gBAAgB,GAAD,OAAKZ,GACpBa,iBAAkB,YAClBC,mBAAmB,IAAD,OAAMV,EAAN,eAAcD,EAAd,SCXf,SAASY,EAAT,GAOP,IALAC,EAKD,EALCA,OACAf,EAID,EAJCA,KAID,IAHCC,gBAGD,MAHY,CAACE,EAAG,EAAGD,EAAG,GAGtB,MAFCc,YAED,MAFQ,EAER,MADCC,WACD,MADO,EACP,EACIb,EAAQJ,EAARI,EAAGC,EAAKL,EAALK,EACV,OACI,cAACP,EAAD,CACIC,MAAOgB,EACPd,SAAUA,EACVD,KAAM,CACFG,EAAGa,EAAOX,EACVH,EAAGe,EAAMb,EACTC,IACAD,O,WClBD,SAASc,EAAQC,GAAW,IAAD,EACNC,mBAAS,CAACjB,EAAE,EAAGD,EAAE,IADX,mBAC/BD,EAD+B,KACrBoB,EADqB,OAEhBD,mBAAS,GAFO,mBAE/BH,EAF+B,KAE1BK,EAF0B,OAGdF,mBAAS,GAHK,mBAG/BJ,EAH+B,KAGzBO,EAHyB,KAIhCC,EAAa,CACfC,KAAM,EAAGjB,KAAM,EAAGkB,MAAO,EAAGC,GAAI,GAG9BC,EAAW,CACbH,KAAM,CAAEtB,EAAG,EAAGD,EAFD,IAGbM,KAAM,CAAEL,GAHK,GAGSD,EAAG,GACzBwB,MAAO,CAAEvB,EAJI,GAISD,EAAG,GACzByB,GAAI,CAAExB,EAAG,EAAGD,GALC,KAQjB,SAAS2B,EAAWC,EAAYC,GAC5B,OAAGD,GAAc,EACN,EACAA,GAAcC,EACdA,EAEAD,EAmBf,MAAO,CACHE,KAhBJ,SAAcf,GACVK,GAAO,SAAAW,GAEH,OADGT,EAAWP,KAASgB,GAM/B,SAAchB,GACVI,GAAY,SAAAY,GAAI,MAAK,CACjB9B,EAAG0B,EAAWI,EAAK9B,EAAIyB,EAASX,GAAKd,EAAG,KACxCD,EAAG2B,EAAWI,EAAK/B,EAAI0B,EAASX,GAAKf,EAAG,SATXgC,CAAKjB,GAC3BO,EAAWP,MAEtBM,GAAQ,SAAAU,GAAI,OAAIA,EAAOd,EAAW,EAAIc,EAAO,EAAG,MAW1ChB,MAAKD,OAAMf,YCtCV,SAASkC,EAAT,GAAyB,ICHHC,EDGLC,EAAO,EAAPA,KAAO,EACGnB,EAAQ,GAAtCD,EAD2B,EAC3BA,IAAKD,EADsB,EACtBA,KAAMgB,EADgB,EAChBA,KAAM/B,EADU,EACVA,SAazB,OCjBiCmC,EDSrB,SAACE,GACT,IAAMC,EAAWD,EAAEE,IAChBD,EAASE,WAAW,WACnBT,EAAKO,EAASG,QAAQ,QAAS,IAAIC,eACnCL,EAAEM,mBCZVC,qBAAU,WAEN,OADAC,OAAOC,iBAAiB,UAAWX,GAC5B,kBAAMU,OAAOE,oBAAoB,UAAWZ,MACpD,CAACA,IDcA,cAACtB,EAAD,CACIC,OAAM,cAASkC,QAA+BZ,EAAO,OAA/C,KACNrC,KAfK,CACTI,EAAG,GAAIC,EAAG,IAeNW,KAAMA,EACNC,IAAKA,EACLhB,SAAUA,IErBP,SAASiD,IACpB,OACI,qBAAKC,UAAU,iBAAf,SACI,cAAChB,EAAD,CAAQE,KAAK,SCFzBe,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACJ,EAAD,MAEFK,SAASC,eAAe,U","file":"static/js/main.8dbb6ab0.chunk.js","sourcesContent":["import React from 'react'\nexport default function Sprite({image, data, position}) {\n    \n    \n    const { y, x, h, w } = data;\n    return (<div\n        style={{\n            position: \"absolute\",\n            top: position.y, \n            left: position.x,\n            height: `${h}px`,\n            width: `${w}px`,\n            backgroundImage: `${image}`,\n            backgroundRepeat: \"no-repeat\",\n            backgroundPosition: `-${x}px -${y}px`\n        }}\n    />)\n}","import React from 'react'\nimport Sprite from './Sprite'\n\nexport default function Actor(\n    {\n        sprite,\n        data,\n        position = {x: 0, y: 0},\n        step = 0,\n        dir = 0\n    }) {\n    const {h, w} = data\n    return (\n        <Sprite\n            image={sprite}\n            position={position}\n            data={{\n                x: step * w,\n                y: dir * h,\n                w,\n                h\n            }}\n        />\n    )\n}","import { useState } from 'react'\n\nexport default function useWalk(maxSteps) {\n    const [position, setPosition] = useState({x:0, y:0})\n    const [dir, setDir] = useState(0)\n    const [step, setStep] = useState(0)\n    const directions = {\n        down: 0, left: 1, right: 2, up: 3\n    }\n    const stepSize = 16;\n    const modifier = {\n        down: { x: 0, y: stepSize }, \n        left: { x: -stepSize, y: 0 },\n        right: { x: stepSize, y: 0 },\n        up: { x: 0, y: -stepSize }\n    }\n    \n    function stayOnGrid(coordinate, gridMax) {\n        if(coordinate <= 0) {\n            return 0;\n        } else if (coordinate >= gridMax) {\n            return gridMax;\n        } else {\n            return coordinate;\n        }\n    }\n    \n    function walk(dir) {\n        setDir(prev => {\n            if(directions[dir] === prev) move(dir);\n            return directions[dir]\n        })\n        setStep(prev => prev < maxSteps - 1 ? prev + 1: 0)\n    } \n    \n    function move(dir) {\n        setPosition(prev => ({\n            x: stayOnGrid(prev.x + modifier[dir].x, 320 - 32),\n            y: stayOnGrid(prev.y + modifier[dir].y, 568 - 32)\n        }))\n    }\n    \n    return {\n        walk, dir, step, position\n    }\n}","import React from 'react'\nimport Actor from './Actor'\nimport useKeyPress from '../hooks/use-key-press'\nimport useWalk from '../hooks/use-walk'\n\nexport default function Player({skin}) {\n    const { dir, step, walk, position } = useWalk(3)\n    const data = {\n        h: 32, w: 32\n    }\n    \n    useKeyPress((e) => {\n        const keyPress = e.key\n        if(keyPress.startsWith(\"Arrow\")) {\n            walk(keyPress.replace(\"Arrow\", \"\").toLowerCase())\n            e.preventDefault()\n        }\n    })\n    \n    return (\n        <Actor\n            sprite={`url(${process.env.PUBLIC_URL + '/' + skin + '.png'})`}\n            data={data}\n            step={step}\n            dir={dir}\n            position={position}\n        />\n    )\n}","import { useEffect } from 'react'\n\nexport default function  useKeyPress(fn) {\n    useEffect(() => {\n        window.addEventListener(\"keydown\", fn)\n        return () => window.removeEventListener(\"keydown\", fn);\n    }, [fn]);\n}","import React from 'react'\nimport Player from './components/Player'\nimport './index.css'\n\nexport default function App() {\n    return (\n        <div className=\"zone-container\">\n            <Player skin=\"f1\"/>\n        </div>\n    )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}